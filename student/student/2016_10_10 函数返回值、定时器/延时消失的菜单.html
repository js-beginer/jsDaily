<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>延时消失的菜单</title>
		<style>
			#main{
				width: 800px;
				height: 200px;
				border: 1px solid darkgray;
				margin: 100px auto;
				box-sizing: border-box;
				box-shadow: 0 0 10px #8E98AA;			
			}
			#myUl{
				width: auto;
				height: 60px;
				background: #A0A298;
			}
			#myUl .myLi{
				list-style: none;
				display: inline-block;
				width: 100px;
				background: rgba(23,23,23,.8);
				font-size: 18px;
				color: white;
				font-family: "微软雅黑";
				border-radius: 3px;
				text-align: center;
				line-height: 60px;
				position: relative;
			}
			.myLi ul{
				width: 300px;
				height: 40px;
				background: #0D0D0D;
				border-radius: 10px;
				position: absolute;
				bottom: -45px;
				left: 0;
				display: none;
			}
			.myLi ul li{
				list-style: none;
				float: left;
				width: 60px;
				background: rgba(23,23,23,.9);
				font-size: 12px;
				color: white;
				font-family: "微软雅黑";
				border-radius: 3px;
				text-align: center;
				line-height: 40px;
				
			}
			.myLi ul li a:link,.myLi a:link{
				text-decoration: none;
				color: white;
			}
			.myLi ul li a:visited,.myLi a:visited{
				text-decoration: none;
				color: white;
			}
			.myLi ul li a:active,.myLi a:active{
				text-decoration: none;
				color: yellow;
			}
			.myLi ul li a:hover,.myLi a:hover{
				text-decoration: none;
				color: orange;
			}
		</style>
	</head>
	<body>
		<div id="main">
			<ul id="myUl">
				<li class="myLi"><a href="javascript:;">首页</a>
					<ul>
						<li><a href="javascript:;">最近更新</a></li>
						<li><a href="javascript:;">活动</a></li>
						<li><a href="javascript:;">试听教学</a></li>
						<li><a href="javascript:;">学员反馈</a></li>
					</ul>
				</li>
				<li class="myLi"><a href="javascript:;">关于我们</a>
					<ul>
						<li><a href="javascript:;">讲师</a></li>
						<li><a href="javascript:;">理念</a></li>
						<li><a href="javascript:;">公司环境</a></li>
						<li><a href="javascript:;">联系我们</a></li>
					</ul>
				</li>
				<li class="myLi"><a href="javascript:;">作品</a>
					<ul>
						<li><a href="javascript:;">留学网</a></li>
						<li><a href="javascript:;">动画</a></li>
						<li><a href="javascript:;">班固</a></li>
						<li><a href="javascript:;">ECMall</a></li>
					</ul>
				</li>
				<li class="myLi"><a href="javascript:;">博客</a>
					<ul>
						<li><a href="javascript:;">JS教程</a></li>
						<li><a href="javascript:;">JQ教程</a></li>
						<li><a href="javascript:;">弹出层</a></li>
						<li><a href="javascript:;">联动</a></li>
					</ul>
				</li>
			</ul>
		</div>
		<script>
			window.onload =function () {
				var oUl = document.getElementById('myUl');
				var aLi = oUl.getElementsByClassName('myLi');
				var aUl = oUl.getElementsByTagName('ul');
				var timer = null;
				for (var i=0; i<aLi.length; i++) {
					aLi[i].index = i;
					aLi[i].onmouseover = function show () {
						clearInterval(timer);
						only ();
						this.getElementsByTagName('ul')[0].style.display = 'block';
					};
					aLi[i].onmouseleave = function hide () {
						timer = setTimeout(function () {
							for(var j=0;j<aLi.length;j++){
								aLi[j].getElementsByTagName('ul')[0].style.display = 'none';
								only ();
							};
						},400);
					};
					//只能选一个（重用）
					function only () {
						for (var i=0; i<aUl.length; i++) {
							if (i != this.index) {
								aUl[i].style.display = 'none';
							};
						};
					};
				};
			};
			
		</script>
	</body>
</html>
