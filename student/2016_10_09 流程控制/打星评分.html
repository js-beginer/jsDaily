<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>打星评分</title>
		<script src="js/jquery-1.9.1.js"></script>
		<script src="js/bootstrap.min.js"></script>

		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<style>
			div {
				border: 1px solid silver;
				width: 800px;
				height: 80px;
			}
			
			span {
				line-height: 80px;
				font-size: 20px;
				display: inline-block;
			}
			
			i {
				font-size: 30px;
				color: yellow;
			}
		</style>
	</head>

	<body>
		<div>
			<span>总体评分：</span>
			<i class="glyphicon glyphicon-star-empty"></i>
			<i class="glyphicon glyphicon-star-empty"></i>
			<i class="glyphicon glyphicon-star-empty"></i>
			<i class="glyphicon glyphicon-star-empty"></i>
			<i class="glyphicon glyphicon-star-empty"></i>

			<p></p>
		</div>
		<script>
//			window.onload = function() {
//				var oDiv = document.getElementsByTagName('div')[0];
//				var aI = oDiv.getElementsByTagName('i');
//				var oP = oDiv.getElementsByTagName('p')[0];
//				var str = '';
//				var indexccc = '';
//				function start(count){
//
//						for(var j = 0; j < count + 1; j++) {
//							aI[j].style.color = 'red';
//						};
//						for(var n = count + 1; n < aI.length; n++) {
//							aI[n].style.color = 'yellow';
//						};
//					}
//				for(var i = 0; i < aI.length; i++) {
//					aI[i].index = i;
//					aI[i].onmouseover = function() {
//							start(this.index);
//					};
//					
//					aI[i].onclick = function() {
//						indexccc = this.index;
//						console.log(indexccc);
//						start(this.index);
//
//					};
//				}
//				oDiv.onmouseleave = function() {
//						console.log(indexccc);
//						if(indexccc==''){
//							return;
//						}else{
//							
//							for(var m = 0;m<=indexccc;m++){
//								aI[m].style.color = 'red';
//							}
//							for(var m = indexccc+1;m<aI.length;m++){
//								aI[m].style.color = 'yellow';
//							}
//						}						
////
//					};
//			}

		window.onload = function() {
				var oDiv = document.getElementsByTagName('div')[0];
				var aI = oDiv.getElementsByTagName('i');
				var oP = oDiv.getElementsByTagName('p')[0];
				var str = '';
				var indexccc = '';//存放点击的index
				function clean(){//初始化函数
						for(var j = 0; j <aI.length; j++) {
							aI[j].style.color = 'yellow';
						}
					}
				function start(count){
					for (var i = 0; i <= count; i++) {
						aI[i].style.color="red";
					}
				}
				for(var i = 0; i < aI.length; i++) {
					aI[i].index = i;
					aI[i].onmouseover = function() {
							clean();
						start(this.index);
					};
					
					aI[i].onclick = function() {
						indexccc = this.index;
						clean();
						start(indexccc);

					};
					aI[i].onmouseout = function() {
						clean();
						if(indexccc==='')return;
						start(indexccc);

					};
				}
			}
		</script>
	</body>

</html>